<% provide :title, "Internship Contact Persons" %>

<%= back_link_to%>

<div class="internship-contacts-container">
  <h2>Internship Contact Persons</h2>

  <div class="countries-grid">
    <% @contacts_by_country.each do |country, data| %>
      <div class="country-card">
        <div class="country-header">
          <span class="country-flag"><%= data[:flag] %></span>
          <h2 class="country-name"><%= country %></h2>
        </div>

        <div class="contacts-list">
          <% data[:contacts].each do |contact| %>
            <div class="contact-item">
              <div class="contact-name">
                <strong><%= contact[:name] %></strong>
              </div>
              <div class="contact-details">
                <div class="detail-row">
                  <span class="detail-label">ðŸ“§</span>
                  <a href="mailto:<%= contact[:email] %>" class="contact-link">
                    <%= contact[:email] %>
                  </a>
                </div>
                <% if contact[:phone].present? %>
                  <div class="detail-row">
                    <span class="detail-label">ðŸ“ž</span>
                    <a href="tel:<%= contact[:phone].gsub(/\s+/, '') %>" class="contact-link">
                      <%= contact[:phone] %>
                    </a>
                  </div>
                <% end %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<style>
  .internship-contacts-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }

  .countries-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .country-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    overflow: hidden;
    border-left: 5px solid #88504d;
  }

  .country-card:hover {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }

  .country-header {
    background: linear-gradient(135deg, #561613 0%, #f0e3e2 100%);
    color: white;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .country-flag {
    font-size: 2.5rem;
    line-height: 1;
  }

  .country-name {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 700;
  }

  .contacts-list {
    padding: 1.5rem;
  }

  .contact-item {
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #eee;
  }

  .contact-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }

  .contact-name {
    font-size: 1.1rem;
    color: #333;
    margin-bottom: 0.75rem;
  }

  .contact-details {
    font-size: 0.95rem;
  }

  .detail-row {
    margin-bottom: 0.5rem;
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
  }

  .detail-row:last-child {
    margin-bottom: 0;
  }

  .detail-label {
    color: #666;
    font-weight: 500;
    min-width: 70px;
  }

  .contact-link {
    color: #004a83;
    text-decoration: none;
    word-break: break-all;
    transition: color 0.2s ease;
  }

  .contact-link:hover {
    color: #003d66;
    text-decoration: underline;
  }

  /* Responsive design */
  @media (max-width: 768px) {
    .internship-contacts-container {
      padding: 1rem;
    }

    .contacts-header h1 {
      font-size: 2rem;
    }

    .countries-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .country-header {
      padding: 1rem;
      gap: 0.75rem;
    }

    .country-flag {
      font-size: 2rem;
    }

    .country-name {
      font-size: 1.25rem;
    }

    .contacts-list {
      padding: 1rem;
    }
  }

  @media (max-width: 480px) {
    .contacts-header h1 {
      font-size: 1.5rem;
    }

    .country-flag {
      font-size: 1.75rem;
    }

    .country-name {
      font-size: 1.1rem;
    }

    .contact-name {
      font-size: 1rem;
    }

    .contact-details {
      font-size: 0.85rem;
    }
  }
</style>
